.. _unmanaged_resources:

*******************
Unmanaged Resources
*******************

Unmanaged resources are resources for which the desired state expresses the intend to discover
resources that exist in the network, but are not yet managed by the Inmanta server, and to store
their attribute in the Inmanta inventory for unmanaged resources. This automatic discovery process
can be used to:

* Facilitate the onboarding of existing, unmanaged services.
* Automatically gather the necessary data to build periodic compliance reports about the network.


Terminology
===========

* **Discovery resource:** The category of resources that have the intent to discover unmanaged resources in the network.
* **Unmanaged resource:** This is the unit of data that is generated by a discovery handler when it is deployed.
  Each time the Discovery handler discovers an unmanaged resource, it generates an unmanaged
  resource. This resource contains a set of attributes that defines the current state of
  the resource found in the network. The execution of a discovery handler can generate
  several unmanaged resources.

Model side
==========

The example below shows how to declare a discovery resource in the model:


.. literalinclude:: unmanaged_resources/basic_example.cf
    :language: inmanta
    :caption: main.cf
    :linenos:

Handler implementation
======================

The snippet below shows an example implementation of a handler responsible for
a discovery resource:

.. literalinclude:: unmanaged_resources/handler_implementation.py
    :language: python
    :caption: handler_implementation.py
    :linenos:
